<!doctype html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
	<!-- // <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js" type="text/javascript"></script> -->
	<script type="text/javascript" src="jquery-2.1.1.js"></script>
	<title>回调函数</title>
</head>
<body>

<ul>
    <li>list item 1</li>
    <li>list item 2</li>
    <li>list item 3</li>
    <li>list item 4</li>
    <li>list item 5</li>
  </ul>
  <p>a paragraph</p>

<script type="text/javascript">

var callbacks = $.Callbacks();

callbacks.add(function() {
	alert('a');
})

callbacks.add(function() {
	alert('b');
})

callbacks.fire(); //输出结果: 'a' 'b'



/* 
* 组件开发者A 定义了通用方法 test 供 业务开发者B 使用 
*/  

Observable.add(function() {
  	//pocessData
})

Observable.add(function() {
	$('aaron1').html(data.a)
	$('aaron2').html(data.b)
	$('aaron3').html(data.c)
})

Observable.add(function() {
  	//pocessOther
})

$.ajax({
	url: "test.html",
	context: document.body
}).done(function(data) {
	Observable.fire(data)
})






function Aaron(List, callback) {
	setTimeout(function() {
		var task;
		if (task = List.shift()) {
			task(); //执行函数
		}
		if (List.length > 0) { //递归分解
			arguments.callee(List)
		} else {
			callback()
		}
	}, 25)
}

Aaron([
	function() {
		alert('a')
	},
	function() {
		alert('b')
	},
	function() {
		alert('c')
	}
], function() {
	alert('callback')
})
 
// 分别弹出 ‘a’ , ‘b’ ,'c',’callback

</script>
</body>
</html>